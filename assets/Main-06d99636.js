import{r as e,$ as Te,a as he,j as h,c as xe,u as ye,L as ne}from"./index-cd269953.js";import{$ as N,a as X,b as I,_ as C,c as _,d as ie,e as ge,f as _e,g as Ce,h as Pe,i as Re,A as De}from"./index-ea8c31b3.js";function Oe(t,n){if(t==null)return{};var s={},o=Object.keys(t),r,a;for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&(s[r]=t[r]);return s}var Se=["color"],Ie=e.forwardRef(function(t,n){var s=t.color,o=s===void 0?"currentColor":s,r=Oe(t,Se);return e.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:n}),e.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))});function Fe(t,n=globalThis==null?void 0:globalThis.document){const s=N(t);e.useEffect(()=>{const o=r=>{r.key==="Escape"&&s(r)};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[s,n])}const G="dismissableLayer.update",Le="dismissableLayer.pointerDownOutside",Ae="dismissableLayer.focusOutside";let oe;const ce=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ne=e.forwardRef((t,n)=>{var s;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:u,onInteractOutside:d,onDismiss:f,...i}=t,p=e.useContext(ce),[b,L]=e.useState(null),x=(s=b==null?void 0:b.ownerDocument)!==null&&s!==void 0?s:globalThis==null?void 0:globalThis.document,[,S]=e.useState({}),v=X(n,m=>L(m)),l=Array.from(p.layers),[g]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),$=l.indexOf(g),E=b?l.indexOf(b):-1,w=p.layersWithOutsidePointerEventsDisabled.size>0,T=E>=$,y=Me(m=>{const R=m.target,k=[...p.branches].some(D=>D.contains(R));!T||k||(a==null||a(m),d==null||d(m),m.defaultPrevented||f==null||f())},x),P=Ke(m=>{const R=m.target;[...p.branches].some(D=>D.contains(R))||(u==null||u(m),d==null||d(m),m.defaultPrevented||f==null||f())},x);return Fe(m=>{E===p.layers.size-1&&(r==null||r(m),!m.defaultPrevented&&f&&(m.preventDefault(),f()))},x),e.useEffect(()=>{if(b)return o&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(oe=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(b)),p.layers.add(b),se(),()=>{o&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=oe)}},[b,x,o,p]),e.useEffect(()=>()=>{b&&(p.layers.delete(b),p.layersWithOutsidePointerEventsDisabled.delete(b),se())},[b,p]),e.useEffect(()=>{const m=()=>S({});return document.addEventListener(G,m),()=>document.removeEventListener(G,m)},[]),e.createElement(I.div,C({},i,{ref:v,style:{pointerEvents:w?T?"auto":"none":void 0,...t.style},onFocusCapture:_(t.onFocusCapture,P.onFocusCapture),onBlurCapture:_(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:_(t.onPointerDownCapture,y.onPointerDownCapture)}))}),ke=e.forwardRef((t,n)=>{const s=e.useContext(ce),o=e.useRef(null),r=X(n,o);return e.useEffect(()=>{const a=o.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),e.createElement(I.div,C({},t,{ref:r}))});function Me(t,n=globalThis==null?void 0:globalThis.document){const s=N(t),o=e.useRef(!1),r=e.useRef(()=>{});return e.useEffect(()=>{const a=d=>{if(d.target&&!o.current){let i=function(){le(Le,s,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",r.current),r.current=i,n.addEventListener("click",r.current,{once:!0})):i()}o.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",a),n.removeEventListener("click",r.current)}},[n,s]),{onPointerDownCapture:()=>o.current=!0}}function Ke(t,n=globalThis==null?void 0:globalThis.document){const s=N(t),o=e.useRef(!1);return e.useEffect(()=>{const r=a=>{a.target&&!o.current&&le(Ae,s,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",r),()=>n.removeEventListener("focusin",r)},[n,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function se(){const t=new CustomEvent(G);document.dispatchEvent(t)}function le(t,n,s,{discrete:o}){const r=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});n&&r.addEventListener(t,n,{once:!0}),o?ie(r,a):r.dispatchEvent(a)}const Ve=Ne,We=ke,je=e.forwardRef((t,n)=>{var s;const{container:o=globalThis==null||(s=globalThis.document)===null||s===void 0?void 0:s.body,...r}=t;return o?Te.createPortal(e.createElement(I.div,C({},r,{ref:n})),o):null}),de=e.forwardRef((t,n)=>e.createElement(I.span,C({},t,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),ue="ToastProvider",[ee,Be,He]=ge("Toast"),[fe,kt]=_e("Toast",[He]),[Ue,z]=fe(ue),pe=t=>{const{__scopeToast:n,label:s="Notification",duration:o=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:u}=t,[d,f]=e.useState(null),[i,p]=e.useState(0),b=e.useRef(!1),L=e.useRef(!1);return e.createElement(ee.Provider,{scope:n},e.createElement(Ue,{scope:n,label:s,duration:o,swipeDirection:r,swipeThreshold:a,toastCount:i,viewport:d,onViewportChange:f,onToastAdd:e.useCallback(()=>p(x=>x+1),[]),onToastRemove:e.useCallback(()=>p(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:L},u))};pe.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const n=`Invalid prop \`label\` supplied to \`${ue}\`. Expected non-empty \`string\`.`;return new Error(n)}return null}};const Xe="ToastViewport",ze=["F8"],J="toast.viewportPause",Q="toast.viewportResume",Ye=e.forwardRef((t,n)=>{const{__scopeToast:s,hotkey:o=ze,label:r="Notifications ({hotkey})",...a}=t,u=z(Xe,s),d=Be(s),f=e.useRef(null),i=e.useRef(null),p=e.useRef(null),b=e.useRef(null),L=X(n,b,u.onViewportChange),x=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;e.useEffect(()=>{const l=g=>{var $;o.every(w=>g[w]||g.code===w)&&(($=b.current)===null||$===void 0||$.focus())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[o]),e.useEffect(()=>{const l=f.current,g=b.current;if(S&&l&&g){const $=()=>{if(!u.isClosePausedRef.current){const y=new CustomEvent(J);g.dispatchEvent(y),u.isClosePausedRef.current=!0}},E=()=>{if(u.isClosePausedRef.current){const y=new CustomEvent(Q);g.dispatchEvent(y),u.isClosePausedRef.current=!1}},w=y=>{!l.contains(y.relatedTarget)&&E()},T=()=>{l.contains(document.activeElement)||E()};return l.addEventListener("focusin",$),l.addEventListener("focusout",w),l.addEventListener("pointermove",$),l.addEventListener("pointerleave",T),window.addEventListener("blur",$),window.addEventListener("focus",E),()=>{l.removeEventListener("focusin",$),l.removeEventListener("focusout",w),l.removeEventListener("pointermove",$),l.removeEventListener("pointerleave",T),window.removeEventListener("blur",$),window.removeEventListener("focus",E)}}},[S,u.isClosePausedRef]);const v=e.useCallback(({tabbingDirection:l})=>{const $=d().map(E=>{const w=E.ref.current,T=[w,...dt(w)];return l==="forwards"?T:T.reverse()});return(l==="forwards"?$.reverse():$).flat()},[d]);return e.useEffect(()=>{const l=b.current;if(l){const g=$=>{const E=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!E){const m=document.activeElement,R=$.shiftKey;if($.target===l&&R){var T;(T=i.current)===null||T===void 0||T.focus();return}const A=v({tabbingDirection:R?"backwards":"forwards"}),j=A.findIndex(c=>c===m);if(Z(A.slice(j+1)))$.preventDefault();else{var y,P;R?(y=i.current)===null||y===void 0||y.focus():(P=p.current)===null||P===void 0||P.focus()}}};return l.addEventListener("keydown",g),()=>l.removeEventListener("keydown",g)}},[d,v]),e.createElement(We,{ref:f,role:"region","aria-label":r.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"}},S&&e.createElement(re,{ref:i,onFocusFromOutsideViewport:()=>{const l=v({tabbingDirection:"forwards"});Z(l)}}),e.createElement(ee.Slot,{scope:s},e.createElement(I.ol,C({tabIndex:-1},a,{ref:L}))),S&&e.createElement(re,{ref:p,onFocusFromOutsideViewport:()=>{const l=v({tabbingDirection:"backwards"});Z(l)}}))}),qe="ToastFocusProxy",re=e.forwardRef((t,n)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...r}=t,a=z(qe,s);return e.createElement(de,C({"aria-hidden":!0,tabIndex:0},r,{ref:n,style:{position:"fixed"},onFocus:u=>{var d;const f=u.relatedTarget;!((d=a.viewport)!==null&&d!==void 0&&d.contains(f))&&o()}}))}),Y="Toast",Ze="toast.swipeStart",Ge="toast.swipeMove",Je="toast.swipeCancel",Qe="toast.swipeEnd",et=e.forwardRef((t,n)=>{const{forceMount:s,open:o,defaultOpen:r,onOpenChange:a,...u}=t,[d=!0,f]=Ce({prop:o,defaultProp:r,onChange:a});return e.createElement(Pe,{present:s||d},e.createElement(be,C({open:d},u,{ref:n,onClose:()=>f(!1),onPause:N(t.onPause),onResume:N(t.onResume),onSwipeStart:_(t.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_(t.onSwipeMove,i=>{const{x:p,y:b}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:_(t.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_(t.onSwipeEnd,i=>{const{x:p,y:b}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),f(!1)})})))}),[tt,nt]=fe(Y,{onClose(){}}),be=e.forwardRef((t,n)=>{const{__scopeToast:s,type:o="foreground",duration:r,open:a,onClose:u,onEscapeKeyDown:d,onPause:f,onResume:i,onSwipeStart:p,onSwipeMove:b,onSwipeCancel:L,onSwipeEnd:x,...S}=t,v=z(Y,s),[l,g]=e.useState(null),$=X(n,c=>g(c)),E=e.useRef(null),w=e.useRef(null),T=r||v.duration,y=e.useRef(0),P=e.useRef(T),m=e.useRef(0),{onToastAdd:R,onToastRemove:k}=v,D=N(()=>{var c;(l==null?void 0:l.contains(document.activeElement))&&((c=v.viewport)===null||c===void 0||c.focus()),u()}),A=e.useCallback(c=>{!c||c===1/0||(window.clearTimeout(m.current),y.current=new Date().getTime(),m.current=window.setTimeout(D,c))},[D]);e.useEffect(()=>{const c=v.viewport;if(c){const O=()=>{A(P.current),i==null||i()},F=()=>{const K=new Date().getTime()-y.current;P.current=P.current-K,window.clearTimeout(m.current),f==null||f()};return c.addEventListener(J,F),c.addEventListener(Q,O),()=>{c.removeEventListener(J,F),c.removeEventListener(Q,O)}}},[v.viewport,T,f,i,A]),e.useEffect(()=>{a&&!v.isClosePausedRef.current&&A(T)},[a,T,v.isClosePausedRef,A]),e.useEffect(()=>(R(),()=>k()),[R,k]);const j=e.useMemo(()=>l?me(l):null,[l]);return v.viewport?e.createElement(e.Fragment,null,j&&e.createElement(ot,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0},j),e.createElement(tt,{scope:s,onClose:D},he.createPortal(e.createElement(ee.ItemSlot,{scope:s},e.createElement(Ve,{asChild:!0,onEscapeKeyDown:_(d,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1})},e.createElement(I.li,C({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection},S,{ref:$,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_(t.onKeyDown,c=>{c.key==="Escape"&&(d==null||d(c.nativeEvent),c.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:_(t.onPointerDown,c=>{c.button===0&&(E.current={x:c.clientX,y:c.clientY})}),onPointerMove:_(t.onPointerMove,c=>{if(!E.current)return;const O=c.clientX-E.current.x,F=c.clientY-E.current.y,K=!!w.current,V=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Ee=V?B(0,O):0,we=V?0:B(0,F),q=c.pointerType==="touch"?10:2,H={x:Ee,y:we},te={originalEvent:c,delta:H};K?(w.current=H,U(Ge,b,te,{discrete:!1})):ae(H,v.swipeDirection,q)?(w.current=H,U(Ze,p,te,{discrete:!1}),c.target.setPointerCapture(c.pointerId)):(Math.abs(O)>q||Math.abs(F)>q)&&(E.current=null)}),onPointerUp:_(t.onPointerUp,c=>{const O=w.current,F=c.target;if(F.hasPointerCapture(c.pointerId)&&F.releasePointerCapture(c.pointerId),w.current=null,E.current=null,O){const K=c.currentTarget,V={originalEvent:c,delta:O};ae(O,v.swipeDirection,v.swipeThreshold)?U(Qe,x,V,{discrete:!0}):U(Je,L,V,{discrete:!0}),K.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})))),v.viewport))):null});be.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const n=`Invalid prop \`type\` supplied to \`${Y}\`. Expected \`foreground | background\`.`;return new Error(n)}return null}};const ot=t=>{const{__scopeToast:n,children:s,...o}=t,r=z(Y,n),[a,u]=e.useState(!1),[d,f]=e.useState(!1);return ct(()=>u(!0)),e.useEffect(()=>{const i=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(i)},[]),d?null:e.createElement(je,{asChild:!0},e.createElement(de,o,a&&e.createElement(e.Fragment,null,r.label," ",s)))},st=e.forwardRef((t,n)=>{const{__scopeToast:s,...o}=t;return e.createElement(I.div,C({},o,{ref:n}))}),rt="ToastAction",at=e.forwardRef((t,n)=>{const{altText:s,...o}=t;return s?e.createElement($e,{altText:s,asChild:!0},e.createElement(ve,C({},o,{ref:n}))):null});at.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${rt}\``)}};const it="ToastClose",ve=e.forwardRef((t,n)=>{const{__scopeToast:s,...o}=t,r=nt(it,s);return e.createElement($e,{asChild:!0},e.createElement(I.button,C({type:"button"},o,{ref:n,onClick:_(t.onClick,r.onClose)})))}),$e=e.forwardRef((t,n)=>{const{__scopeToast:s,altText:o,...r}=t;return e.createElement(I.div,C({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0},r,{ref:n}))});function me(t){const n=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),lt(o)){const r=o.ariaHidden||o.hidden||o.style.display==="none",a=o.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const u=o.dataset.radixToastAnnounceAlt;u&&n.push(u)}else n.push(...me(o))}}),n}function U(t,n,s,{discrete:o}){const r=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});n&&r.addEventListener(t,n,{once:!0}),o?ie(r,a):r.dispatchEvent(a)}const ae=(t,n,s=0)=>{const o=Math.abs(t.x),r=Math.abs(t.y),a=o>r;return n==="left"||n==="right"?a&&o>s:!a&&r>s};function ct(t=()=>{}){const n=N(t);Re(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[n])}function lt(t){return t.nodeType===t.ELEMENT_NODE}function dt(t){const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function Z(t){const n=document.activeElement;return t.some(s=>s===n?!0:(s.focus(),document.activeElement!==n))}const ut=pe,ft=Ye,pt=et,bt=st,vt=ve,$t="_light_1lllc_1",mt="_ToastViewport_1lllc_6",Et="_ToastRoot_1lllc_29",wt="_slideIn_1lllc_1",Tt="_hide_1lllc_1",ht="_swipeOut_1lllc_1",xt="_ToastTitle_1lllc_86",yt="_ToastDescription_1lllc_93",gt="_ToastAction_1lllc_101",_t="_Button_1lllc_105",Ct="_small_1lllc_114",Pt="_large_1lllc_121",Rt="_violet_1lllc_128",Dt="_green_1lllc_142",M={light:$t,"light-theme":"_light-theme_1lllc_1",ToastViewport:mt,ToastRoot:Et,slideIn:wt,hide:Tt,swipeOut:ht,ToastTitle:xt,ToastDescription:yt,ToastAction:gt,Button:_t,small:Ct,large:Pt,violet:Rt,green:Dt},Ot=({message:t,openToast:n,setOpenToast:s})=>h.jsxs(ut,{swipeDirection:"down",duration:2e3,children:[h.jsxs(pt,{className:M.ToastRoot,open:n,onOpenChange:s,children:[h.jsx(bt,{className:M.ToastTitle,children:t}),h.jsx(vt,{className:xe(M.Button,M.small,M.green),"aria-label":"Close",children:h.jsx("span",{"aria-hidden":!0,children:"×"})})]}),h.jsx(ft,{className:M.ToastViewport})]}),St="_main_14edn_1",It="_topWrapper_14edn_9",Ft="_heading_14edn_15",Lt="_createButton_14edn_20",W={main:St,topWrapper:It,heading:Ft,createButton:Lt},Mt=()=>{const[t,n]=e.useState(!1),s=e.useRef(0),{picture:o}=ye(({auth:r})=>r);return e.useEffect(()=>()=>clearTimeout(s.current),[]),h.jsxs("div",{className:W.main,children:[h.jsxs("div",{className:W.topWrapper,children:[h.jsx("h1",{className:W.heading,children:"Общаки"}),h.jsx(ne,{to:"/profile",children:h.jsx("div",{className:W.profileButton,children:h.jsx(De,{size:"medium",image:o})})})]}),h.jsxs(ne,{to:"/create-group",className:W.createButton,children:[h.jsx(Ie,{width:"80",height:"80"}),h.jsx("p",{children:"Создать общак"})]}),h.jsx("button",{onClick:()=>{n(!1),s.current=window.setTimeout(()=>{n(!0)},100)},children:"Show toast"}),h.jsx(Ot,{message:"Ссылка скопирована в буфер обмена!",openToast:t,setOpenToast:n})]})};export{Mt as default};
