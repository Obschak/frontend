import{r as t,$ as he,a as xe,j as E,c as ge,u as oe,L as q}from"./index-abeb7a9d.js";import{$ as k,a as X,b as L,_ as P,c as ce,d as ye,e as _e,A as Pe}from"./index-35a8bba8.js";import{$ as _,a as Ce,b as Re,c as De}from"./index-cc6c640b.js";function Oe(e,n){if(e==null)return{};var s={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&(s[r]=e[r]);return s}var Se=["color"],Fe=t.forwardRef(function(e,n){var s=e.color,o=s===void 0?"currentColor":s,r=Oe(e,Se);return t.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:n}),t.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))});function Le(e,n=globalThis==null?void 0:globalThis.document){const s=k(e);t.useEffect(()=>{const o=r=>{r.key==="Escape"&&s(r)};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[s,n])}const J="dismissableLayer.update",Ie="dismissableLayer.pointerDownOutside",Ae="dismissableLayer.focusOutside";let se;const le=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ne=t.forwardRef((e,n)=>{var s;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:u,onInteractOutside:d,onDismiss:p,...i}=e,f=t.useContext(le),[b,A]=t.useState(null),x=(s=b==null?void 0:b.ownerDocument)!==null&&s!==void 0?s:globalThis==null?void 0:globalThis.document,[,S]=t.useState({}),v=X(n,m=>A(m)),l=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),$=l.indexOf(y),w=b?l.indexOf(b):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,h=w>=$,g=Me(m=>{const R=m.target,M=[...f.branches].some(D=>D.contains(R));!h||M||(a==null||a(m),d==null||d(m),m.defaultPrevented||p==null||p())},x),C=We(m=>{const R=m.target;[...f.branches].some(D=>D.contains(R))||(u==null||u(m),d==null||d(m),m.defaultPrevented||p==null||p())},x);return Le(m=>{w===f.layers.size-1&&(r==null||r(m),!m.defaultPrevented&&p&&(m.preventDefault(),p()))},x),t.useEffect(()=>{if(b)return o&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(se=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(b)),f.layers.add(b),re(),()=>{o&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=se)}},[b,x,o,f]),t.useEffect(()=>()=>{b&&(f.layers.delete(b),f.layersWithOutsidePointerEventsDisabled.delete(b),re())},[b,f]),t.useEffect(()=>{const m=()=>S({});return document.addEventListener(J,m),()=>document.removeEventListener(J,m)},[]),t.createElement(L.div,P({},i,{ref:v,style:{pointerEvents:T?h?"auto":"none":void 0,...e.style},onFocusCapture:_(e.onFocusCapture,C.onFocusCapture),onBlurCapture:_(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:_(e.onPointerDownCapture,g.onPointerDownCapture)}))}),ke=t.forwardRef((e,n)=>{const s=t.useContext(le),o=t.useRef(null),r=X(n,o);return t.useEffect(()=>{const a=o.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),t.createElement(L.div,P({},e,{ref:r}))});function Me(e,n=globalThis==null?void 0:globalThis.document){const s=k(e),o=t.useRef(!1),r=t.useRef(()=>{});return t.useEffect(()=>{const a=d=>{if(d.target&&!o.current){let i=function(){de(Ie,s,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",r.current),r.current=i,n.addEventListener("click",r.current,{once:!0})):i()}o.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",a),n.removeEventListener("click",r.current)}},[n,s]),{onPointerDownCapture:()=>o.current=!0}}function We(e,n=globalThis==null?void 0:globalThis.document){const s=k(e),o=t.useRef(!1);return t.useEffect(()=>{const r=a=>{a.target&&!o.current&&de(Ae,s,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",r),()=>n.removeEventListener("focusin",r)},[n,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function re(){const e=new CustomEvent(J);document.dispatchEvent(e)}function de(e,n,s,{discrete:o}){const r=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});n&&r.addEventListener(e,n,{once:!0}),o?ce(r,a):r.dispatchEvent(a)}const Ke=Ne,je=ke,Ve=t.forwardRef((e,n)=>{var s;const{container:o=globalThis==null||(s=globalThis.document)===null||s===void 0?void 0:s.body,...r}=e;return o?he.createPortal(t.createElement(L.div,P({},r,{ref:n})),o):null}),ue=t.forwardRef((e,n)=>t.createElement(L.span,P({},e,{ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),pe="ToastProvider",[te,Be,He]=Ce("Toast"),[fe,Vt]=ye("Toast",[He]),[Ue,z]=fe(pe),be=e=>{const{__scopeToast:n,label:s="Notification",duration:o=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:u}=e,[d,p]=t.useState(null),[i,f]=t.useState(0),b=t.useRef(!1),A=t.useRef(!1);return t.createElement(te.Provider,{scope:n},t.createElement(Ue,{scope:n,label:s,duration:o,swipeDirection:r,swipeThreshold:a,toastCount:i,viewport:d,onViewportChange:p,onToastAdd:t.useCallback(()=>f(x=>x+1),[]),onToastRemove:t.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:A},u))};be.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const n=`Invalid prop \`label\` supplied to \`${pe}\`. Expected non-empty \`string\`.`;return new Error(n)}return null}};const Xe="ToastViewport",ze=["F8"],Q="toast.viewportPause",ee="toast.viewportResume",Ye=t.forwardRef((e,n)=>{const{__scopeToast:s,hotkey:o=ze,label:r="Notifications ({hotkey})",...a}=e,u=z(Xe,s),d=Be(s),p=t.useRef(null),i=t.useRef(null),f=t.useRef(null),b=t.useRef(null),A=X(n,b,u.onViewportChange),x=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;t.useEffect(()=>{const l=y=>{var $;o.every(T=>y[T]||y.code===T)&&(($=b.current)===null||$===void 0||$.focus())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[o]),t.useEffect(()=>{const l=p.current,y=b.current;if(S&&l&&y){const $=()=>{if(!u.isClosePausedRef.current){const g=new CustomEvent(Q);y.dispatchEvent(g),u.isClosePausedRef.current=!0}},w=()=>{if(u.isClosePausedRef.current){const g=new CustomEvent(ee);y.dispatchEvent(g),u.isClosePausedRef.current=!1}},T=g=>{!l.contains(g.relatedTarget)&&w()},h=()=>{l.contains(document.activeElement)||w()};return l.addEventListener("focusin",$),l.addEventListener("focusout",T),l.addEventListener("pointermove",$),l.addEventListener("pointerleave",h),window.addEventListener("blur",$),window.addEventListener("focus",w),()=>{l.removeEventListener("focusin",$),l.removeEventListener("focusout",T),l.removeEventListener("pointermove",$),l.removeEventListener("pointerleave",h),window.removeEventListener("blur",$),window.removeEventListener("focus",w)}}},[S,u.isClosePausedRef]);const v=t.useCallback(({tabbingDirection:l})=>{const $=d().map(w=>{const T=w.ref.current,h=[T,...dt(T)];return l==="forwards"?h:h.reverse()});return(l==="forwards"?$.reverse():$).flat()},[d]);return t.useEffect(()=>{const l=b.current;if(l){const y=$=>{const w=$.altKey||$.ctrlKey||$.metaKey;if($.key==="Tab"&&!w){const m=document.activeElement,R=$.shiftKey;if($.target===l&&R){var h;(h=i.current)===null||h===void 0||h.focus();return}const N=v({tabbingDirection:R?"backwards":"forwards"}),V=N.findIndex(c=>c===m);if(Z(N.slice(V+1)))$.preventDefault();else{var g,C;R?(g=i.current)===null||g===void 0||g.focus():(C=f.current)===null||C===void 0||C.focus()}}};return l.addEventListener("keydown",y),()=>l.removeEventListener("keydown",y)}},[d,v]),t.createElement(je,{ref:p,role:"region","aria-label":r.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"}},S&&t.createElement(ae,{ref:i,onFocusFromOutsideViewport:()=>{const l=v({tabbingDirection:"forwards"});Z(l)}}),t.createElement(te.Slot,{scope:s},t.createElement(L.ol,P({tabIndex:-1},a,{ref:A}))),S&&t.createElement(ae,{ref:f,onFocusFromOutsideViewport:()=>{const l=v({tabbingDirection:"backwards"});Z(l)}}))}),Ge="ToastFocusProxy",ae=t.forwardRef((e,n)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...r}=e,a=z(Ge,s);return t.createElement(ue,P({"aria-hidden":!0,tabIndex:0},r,{ref:n,style:{position:"fixed"},onFocus:u=>{var d;const p=u.relatedTarget;!((d=a.viewport)!==null&&d!==void 0&&d.contains(p))&&o()}}))}),Y="Toast",qe="toast.swipeStart",Ze="toast.swipeMove",Je="toast.swipeCancel",Qe="toast.swipeEnd",et=t.forwardRef((e,n)=>{const{forceMount:s,open:o,defaultOpen:r,onOpenChange:a,...u}=e,[d=!0,p]=Re({prop:o,defaultProp:r,onChange:a});return t.createElement(De,{present:s||d},t.createElement(ve,P({open:d},u,{ref:n,onClose:()=>p(!1),onPause:k(e.onPause),onResume:k(e.onResume),onSwipeStart:_(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_(e.onSwipeMove,i=>{const{x:f,y:b}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:_(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_(e.onSwipeEnd,i=>{const{x:f,y:b}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),p(!1)})})))}),[tt,nt]=fe(Y,{onClose(){}}),ve=t.forwardRef((e,n)=>{const{__scopeToast:s,type:o="foreground",duration:r,open:a,onClose:u,onEscapeKeyDown:d,onPause:p,onResume:i,onSwipeStart:f,onSwipeMove:b,onSwipeCancel:A,onSwipeEnd:x,...S}=e,v=z(Y,s),[l,y]=t.useState(null),$=X(n,c=>y(c)),w=t.useRef(null),T=t.useRef(null),h=r||v.duration,g=t.useRef(0),C=t.useRef(h),m=t.useRef(0),{onToastAdd:R,onToastRemove:M}=v,D=k(()=>{var c;(l==null?void 0:l.contains(document.activeElement))&&((c=v.viewport)===null||c===void 0||c.focus()),u()}),N=t.useCallback(c=>{!c||c===1/0||(window.clearTimeout(m.current),g.current=new Date().getTime(),m.current=window.setTimeout(D,c))},[D]);t.useEffect(()=>{const c=v.viewport;if(c){const O=()=>{N(C.current),i==null||i()},I=()=>{const K=new Date().getTime()-g.current;C.current=C.current-K,window.clearTimeout(m.current),p==null||p()};return c.addEventListener(Q,I),c.addEventListener(ee,O),()=>{c.removeEventListener(Q,I),c.removeEventListener(ee,O)}}},[v.viewport,h,p,i,N]),t.useEffect(()=>{a&&!v.isClosePausedRef.current&&N(h)},[a,h,v.isClosePausedRef,N]),t.useEffect(()=>(R(),()=>M()),[R,M]);const V=t.useMemo(()=>l?Ee(l):null,[l]);return v.viewport?t.createElement(t.Fragment,null,V&&t.createElement(ot,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0},V),t.createElement(tt,{scope:s,onClose:D},xe.createPortal(t.createElement(te.ItemSlot,{scope:s},t.createElement(Ke,{asChild:!0,onEscapeKeyDown:_(d,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1})},t.createElement(L.li,P({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection},S,{ref:$,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_(e.onKeyDown,c=>{c.key==="Escape"&&(d==null||d(c.nativeEvent),c.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:_(e.onPointerDown,c=>{c.button===0&&(w.current={x:c.clientX,y:c.clientY})}),onPointerMove:_(e.onPointerMove,c=>{if(!w.current)return;const O=c.clientX-w.current.x,I=c.clientY-w.current.y,K=!!T.current,j=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,we=j?B(0,O):0,Te=j?0:B(0,I),G=c.pointerType==="touch"?10:2,H={x:we,y:Te},ne={originalEvent:c,delta:H};K?(T.current=H,U(Ze,b,ne,{discrete:!1})):ie(H,v.swipeDirection,G)?(T.current=H,U(qe,f,ne,{discrete:!1}),c.target.setPointerCapture(c.pointerId)):(Math.abs(O)>G||Math.abs(I)>G)&&(w.current=null)}),onPointerUp:_(e.onPointerUp,c=>{const O=T.current,I=c.target;if(I.hasPointerCapture(c.pointerId)&&I.releasePointerCapture(c.pointerId),T.current=null,w.current=null,O){const K=c.currentTarget,j={originalEvent:c,delta:O};ie(O,v.swipeDirection,v.swipeThreshold)?U(Qe,x,j,{discrete:!0}):U(Je,A,j,{discrete:!0}),K.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})))),v.viewport))):null});ve.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const n=`Invalid prop \`type\` supplied to \`${Y}\`. Expected \`foreground | background\`.`;return new Error(n)}return null}};const ot=e=>{const{__scopeToast:n,children:s,...o}=e,r=z(Y,n),[a,u]=t.useState(!1),[d,p]=t.useState(!1);return ct(()=>u(!0)),t.useEffect(()=>{const i=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(i)},[]),d?null:t.createElement(Ve,{asChild:!0},t.createElement(ue,o,a&&t.createElement(t.Fragment,null,r.label," ",s)))},st=t.forwardRef((e,n)=>{const{__scopeToast:s,...o}=e;return t.createElement(L.div,P({},o,{ref:n}))}),rt="ToastAction",at=t.forwardRef((e,n)=>{const{altText:s,...o}=e;return s?t.createElement(me,{altText:s,asChild:!0},t.createElement($e,P({},o,{ref:n}))):null});at.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${rt}\``)}};const it="ToastClose",$e=t.forwardRef((e,n)=>{const{__scopeToast:s,...o}=e,r=nt(it,s);return t.createElement(me,{asChild:!0},t.createElement(L.button,P({type:"button"},o,{ref:n,onClick:_(e.onClick,r.onClose)})))}),me=t.forwardRef((e,n)=>{const{__scopeToast:s,altText:o,...r}=e;return t.createElement(L.div,P({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0},r,{ref:n}))});function Ee(e){const n=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),lt(o)){const r=o.ariaHidden||o.hidden||o.style.display==="none",a=o.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const u=o.dataset.radixToastAnnounceAlt;u&&n.push(u)}else n.push(...Ee(o))}}),n}function U(e,n,s,{discrete:o}){const r=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});n&&r.addEventListener(e,n,{once:!0}),o?ce(r,a):r.dispatchEvent(a)}const ie=(e,n,s=0)=>{const o=Math.abs(e.x),r=Math.abs(e.y),a=o>r;return n==="left"||n==="right"?a&&o>s:!a&&r>s};function ct(e=()=>{}){const n=k(e);_e(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[n])}function lt(e){return e.nodeType===e.ELEMENT_NODE}function dt(e){const n=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function Z(e){const n=document.activeElement;return e.some(s=>s===n?!0:(s.focus(),document.activeElement!==n))}const ut=be,pt=Ye,ft=et,bt=st,vt=$e,$t="_light_1lllc_1",mt="_ToastViewport_1lllc_6",Et="_ToastRoot_1lllc_29",wt="_slideIn_1lllc_1",Tt="_hide_1lllc_1",ht="_swipeOut_1lllc_1",xt="_ToastTitle_1lllc_86",gt="_ToastDescription_1lllc_93",yt="_ToastAction_1lllc_101",_t="_Button_1lllc_105",Pt="_small_1lllc_114",Ct="_large_1lllc_121",Rt="_violet_1lllc_128",Dt="_green_1lllc_142",W={light:$t,"light-theme":"_light-theme_1lllc_1",ToastViewport:mt,ToastRoot:Et,slideIn:wt,hide:Tt,swipeOut:ht,ToastTitle:xt,ToastDescription:gt,ToastAction:yt,Button:_t,small:Pt,large:Ct,violet:Rt,green:Dt},Ot=({message:e,openToast:n,setOpenToast:s})=>E.jsxs(ut,{swipeDirection:"down",duration:2e3,children:[E.jsxs(ft,{className:W.ToastRoot,open:n,onOpenChange:s,children:[E.jsx(bt,{className:W.ToastTitle,children:e}),E.jsx(vt,{className:ge(W.Button,W.small,W.green),"aria-label":"Close",children:E.jsx("span",{"aria-hidden":!0,children:"×"})})]}),E.jsx(pt,{className:W.ToastViewport})]}),St="_main_1u496_1",Ft="_topWrapper_1u496_9",Lt="_heading_1u496_16",It="_createFirstGoup_1u496_21",At="_createButton_1u496_29",Nt="_groupWrapper_1u496_43",kt="_groupList_1u496_48",Mt="_mainWrapper_1u496_63",F={main:St,topWrapper:Ft,heading:Lt,createFirstGoup:It,createButton:At,groupWrapper:Nt,groupList:kt,mainWrapper:Mt},Bt=()=>{const e=oe(a=>a.createGroup.groups),[n,s]=t.useState(!1),o=t.useRef(0),{picture:r}=oe(({auth:a})=>a);return t.useEffect(()=>()=>clearTimeout(o.current),[]),E.jsxs("div",{className:F.main,children:[E.jsxs("div",{className:F.topWrapper,children:[E.jsx("h1",{className:F.heading,children:"Общаки"}),E.jsx(q,{to:"/profile",children:E.jsx("div",{className:F.profileButton,children:E.jsx(Pe,{size:"medium",image:r})})})]}),e.length===0&&E.jsxs(q,{to:"/create-group",className:F.createFirstGoup,children:[E.jsx(Fe,{width:"80",height:"80"}),E.jsx("p",{children:"Создать общак"})]}),e.length>0&&E.jsxs("div",{className:F.mainWrapper,children:[E.jsx("ul",{className:F.groupWrapper,children:e.map((a,u)=>E.jsx("li",{className:F.groupList,children:a},u))}),E.jsx(q,{to:"/create-group",children:E.jsx("p",{className:F.createButton,children:"Создать"})})]}),E.jsx(Ot,{message:"Ссылка скопирована в буфер обмена!",openToast:n,setOpenToast:s})]})};export{Bt as default};
