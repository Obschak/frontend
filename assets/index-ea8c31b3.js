import{r as c,a as O,j as _,c as D,h as b}from"./index-cd269953.js";function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},S.apply(this,arguments)}function T(e,t=[]){let n=[];function o(s,i){const a=c.createContext(i),u=n.length;n=[...n,i];function l(f){const{scope:p,children:m,...d}=f,h=(p==null?void 0:p[e][u])||a,v=c.useMemo(()=>d,Object.values(d));return c.createElement(h.Provider,{value:v},m)}function $(f,p){const m=(p==null?void 0:p[e][u])||a,d=c.useContext(m);if(d)return d;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,$]}const r=()=>{const s=n.map(i=>c.createContext(i));return function(a){const u=(a==null?void 0:a[e])||s;return c.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return r.scopeName=e,[o,V(r,...t)]}function V(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=o.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function I(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}const M=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function k(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function L(...e){return t=>e.forEach(n=>k(n,t))}function P(...e){return c.useCallback(L(...e),e)}const E=c.forwardRef((e,t)=>{const{children:n,...o}=e,r=c.Children.toArray(n),s=r.find(F);if(s){const i=s.props.children,a=r.map(u=>u===s?c.Children.count(i)>1?c.Children.only(null):c.isValidElement(i)?i.props.children:null:u);return c.createElement(R,S({},o,{ref:t}),c.isValidElement(i)?c.cloneElement(i,void 0,a):null)}return c.createElement(R,S({},o,{ref:t}),n)});E.displayName="Slot";const R=c.forwardRef((e,t)=>{const{children:n,...o}=e;return c.isValidElement(n)?c.cloneElement(n,{...q(o,n.props),ref:t?L(t,n.ref):n.ref}):c.Children.count(n)>1?c.Children.only(null):null});R.displayName="SlotClone";const B=({children:e})=>c.createElement(c.Fragment,null,e);function F(e){return c.isValidElement(e)&&e.type===B}function q(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{s(...a),r(...a)}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}const z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],w=z.reduce((e,t)=>{const n=c.forwardRef((o,r)=>{const{asChild:s,...i}=o,a=s?E:t;return c.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),c.createElement(a,S({},i,{ref:r}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function de(e,t){e&&O.flushSync(()=>e.dispatchEvent(t))}const U="Avatar",[G,fe]=T(U),[Y,Z]=G(U),J=c.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[r,s]=c.useState("idle");return c.createElement(Y,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:s},c.createElement(w.span,S({},o,{ref:t})))}),K="AvatarImage",Q=c.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:r=()=>{},...s}=e,i=Z(K,n),a=W(o),u=I(l=>{r(l),i.onImageLoadingStatusChange(l)});return M(()=>{a!=="idle"&&u(a)},[a,u]),a==="loaded"?c.createElement(w.img,S({},s,{ref:t,src:o})):null});function W(e){const[t,n]=c.useState("idle");return c.useEffect(()=>{if(!e){n("error");return}let o=!0;const r=new window.Image,s=i=>()=>{o&&n(i)};return n("loading"),r.onload=s("loaded"),r.onerror=s("error"),r.src=e,()=>{o=!1}},[e]),t}const X=J,H=Q,ee="_root_1cd5e_1",te="_image_1cd5e_7",ne="_small_1cd5e_14",oe="_medium_1cd5e_19",ce="_large_1cd5e_24",x={root:ee,image:te,small:ne,medium:oe,large:ce},re=""+new URL("avatar-e6c51bc0.jpg",import.meta.url).href,me=({size:e,image:t})=>{const n={small:x.small,medium:x.medium,large:x.large};return _.jsx("div",{children:_.jsx(X,{className:x.root,children:_.jsx(H,{className:D(x.image,n[e]),src:t||re,alt:"avatar"})})})};function $e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function pe(e){const t=e+"CollectionProvider",[n,o]=T(t),[r,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:d,children:h}=m,v=b.useRef(null),g=b.useRef(new Map).current;return b.createElement(r,{scope:d,itemMap:g,collectionRef:v},h)},a=e+"CollectionSlot",u=b.forwardRef((m,d)=>{const{scope:h,children:v}=m,g=s(a,h),C=P(d,g.collectionRef);return b.createElement(E,{ref:C},v)}),l=e+"CollectionItemSlot",$="data-radix-collection-item",f=b.forwardRef((m,d)=>{const{scope:h,children:v,...g}=m,C=b.useRef(null),y=P(d,C),N=s(l,h);return b.useEffect(()=>(N.itemMap.set(C,{ref:C,...g}),()=>void N.itemMap.delete(C))),b.createElement(E,{[$]:"",ref:y},v)});function p(m){const d=s(e+"CollectionConsumer",m);return b.useCallback(()=>{const v=d.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${$}]`));return Array.from(d.itemMap.values()).sort((N,j)=>g.indexOf(N.ref.current)-g.indexOf(j.ref.current))},[d.collectionRef,d.itemMap])}return[{Provider:i,Slot:u,ItemSlot:f},p,o]}function se(e,t){return c.useReducer((n,o)=>{const r=t[n][o];return r??n},e)}const ae=e=>{const{present:t,children:n}=e,o=ie(t),r=typeof n=="function"?n({present:o.isPresent}):c.Children.only(n),s=P(o.ref,r.ref);return typeof n=="function"||o.isPresent?c.cloneElement(r,{ref:s}):null};ae.displayName="Presence";function ie(e){const[t,n]=c.useState(),o=c.useRef({}),r=c.useRef(e),s=c.useRef("none"),i=e?"mounted":"unmounted",[a,u]=se(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const l=A(o.current);s.current=a==="mounted"?l:"none"},[a]),M(()=>{const l=o.current,$=r.current;if($!==e){const p=s.current,m=A(l);e?u("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u($&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,u]),M(()=>{if(t){const l=f=>{const m=A(o.current).includes(f.animationName);f.target===t&&m&&O.flushSync(()=>u("ANIMATION_END"))},$=f=>{f.target===t&&(s.current=A(o.current))};return t.addEventListener("animationstart",$),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",$),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:c.useCallback(l=>{l&&(o.current=getComputedStyle(l)),n(l)},[])}}function A(e){return(e==null?void 0:e.animationName)||"none"}function ve({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,r]=le({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:o,a=I(n),u=c.useCallback(l=>{if(s){const f=typeof l=="function"?l(e):l;f!==e&&a(f)}else r(l)},[s,e,r,a]);return[i,u]}function le({defaultProp:e,onChange:t}){const n=c.useState(e),[o]=n,r=c.useRef(o),s=I(t);return c.useEffect(()=>{r.current!==o&&(s(o),r.current=o)},[o,r,s]),n}export{I as $,me as A,S as _,P as a,w as b,$e as c,de as d,pe as e,T as f,ve as g,ae as h,M as i};
